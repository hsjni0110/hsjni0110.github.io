{"componentChunkName":"component---src-templates-blog-template-js","path":"/data-science-1/","result":{"data":{"cur":{"id":"2f71d669-43bc-5f93-8d6d-d0ffa0cef45a","html":"<h2 id=\"1계기\" style=\"position:relative;\"><a href=\"#1%EA%B3%84%EA%B8%B0\" aria-label=\"1계기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.계기</h2>\n<p>한/글 문서에는 글자를 한번에 바꿔주는 기능은 있으나, 한번에 그림을 바꾸진 못합니다.</p>\n<p>마침 pyautogui의 locateOnScreen 함수를 이용하면 이를 보완하는 것이 가능할 것 같았습니다.</p>\n<br/>\n<h2 id=\"2설계\" style=\"position:relative;\"><a href=\"#2%EC%84%A4%EA%B3%84\" aria-label=\"2설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.설계</h2>\n<p>처음보는 누구나 사용할 수 있도록 파이썬 내장 모듈인 tkinter와 PIL인 pillow를 이용해서 GUI 형식으로 만들었습니다.</p>\n<p>한/글 문서의 한번에 바꾸기에서 바꿀 글자와 바꾼 글자를 입력해야 하듯이 GUI내에서도 바꿀 이미지와 바꾼이미지를 입력받습니다.</p>\n<br/>\n<h3 id=\"캡처-도구의-이용\" style=\"position:relative;\"><a href=\"#%EC%BA%A1%EC%B2%98-%EB%8F%84%EA%B5%AC%EC%9D%98-%EC%9D%B4%EC%9A%A9\" aria-label=\"캡처 도구의 이용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캡처 도구의 이용</h3>\n<p>이미지는 가지고 있는 노트북 혹은 컴퓨터의 모니터 크기에 따라 크기가 달라집니다. 또한 한/글 문서의 확대 수준에 따라서도 바뀝니다. 이는 이미지를 인식하는데 있어 정확도를 감소시킵니다.</p>\n<br/>\n<p>따라서 윈도우에 내장되어 있는 캡처도구를 통해 이미지의 규격을 각 기기마다 통일 시켜야합니다. 뿐만 아니라 셀 안의 이미지를 삽입하는 경우, 사진이 한쪽으로 쏠리기도 합니다. 번거롭지만 이미지의 가로/세로 크기를 셀 가로/세로 크기와 일치시키는 것이 이미지 정렬에 있어 유리해집니다.</p>\n<br/>\n<p>코드에 삽입되는 이미지 규격과 이미지 인식, 삽입 간의 정확성은 이 프로그램에 있어 굉장히 중요합니다. 결론은 다음과 같은 사항을 만족시켜주어야 하죠.</p>\n<br/>\n<ul>\n<li>\n<p>바꿀 이미지와 바꾼 이미지의 규격이 거의 동일해야 합니다.</p>\n</li>\n<li>\n<p>이미지의 규격은 유동적으로 설정해야합니다.(셀 안에 있는 경우 셀 크기에 맞춰야 정렬)</p>\n</li>\n</ul>\n<br/>\n<h2 id=\"3-구현\" style=\"position:relative;\"><a href=\"#3-%EA%B5%AC%ED%98%84\" aria-label=\"3 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 구현</h2>\n<p>이미지 조건이 충족된다면, 나머지 구현은 평탄하게 진행됩니다. pyautogui의 이미지 인식, 클릭, 삭제, 붙여넣기만 구현하면 됩니다.</p>\n<p>이미지를 클립보드에 복사하는 것은 다음과 같이 이미지를 RGB데이터로 변환 시킨 후 클립보드로 복사합니다.</p>\n<br/>\n<h3 id=\"이미지-받아서-클립보드-복사\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B0%9B%EC%95%84%EC%84%9C-%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C-%EB%B3%B5%EC%82%AC\" aria-label=\"이미지 받아서 클립보드 복사 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 받아서 클립보드 복사</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">filepath <span class=\"token operator\">=</span> <span class=\"token string\">'after.png'</span>\r\nimage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filepath<span class=\"token punctuation\">)</span>\r\noutput <span class=\"token operator\">=</span> BytesIO<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nimage<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGB\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">,</span> <span class=\"token string\">\"BMP\"</span><span class=\"token punctuation\">)</span>\r\ndata <span class=\"token operator\">=</span> output<span class=\"token punctuation\">.</span>getvalue<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">14</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\r\noutput<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nsend_to_clipboard<span class=\"token punctuation\">(</span>win32clipboard<span class=\"token punctuation\">.</span>CF_DIB<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<h2 id=\"4-결과-및-개선할-점\" style=\"position:relative;\"><a href=\"#4-%EA%B2%B0%EA%B3%BC-%EB%B0%8F-%EA%B0%9C%EC%84%A0%ED%95%A0-%EC%A0%90\" aria-label=\"4 결과 및 개선할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 결과 및 개선할 점</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABs0lEQVQ4y51Uy3KCQBDk/z9DQckpiZV7DiktRLOWHpIqX/hAQUBF/YBO9cSh0Mglh65hZntnZnd6seZBgDAMkWUZkiRBnue4XC44nU4FGIvjWNY1Rs75fL7hHQ4HWNvtFrvdTjYxMJvNsFgssN/vxT8ej1Jss9kIT/35fI7lcimcMiztgEQG2EWapuIrNHmZR84jnqUOyYQWKINEQhNW8aRDJVXhUcIq3k3CKvK/EiqRx+DkiHKh+4RVPEmol0xLaXCaRHHheY6MkyXnuvkhT4dS1hUlRE0KMUlxph7TFKcw/EX6G4uiEo+xqx7ZpRUEgWiPuuK3gv5kOsGn56H7/o7exweM7//h8ptgnLq0XNdFvV6HbduwHQfNZhONRqOw7tMTXt/e8PzygqbrSlzWruvc5zgOarUaWq3WrQ75AvhK1uu1VKPlsb6/vjAej7FarSTOzmjp30+/GArvYTadotvtYjgcwvM8mMEAxhgY8wljBhiNRvB9H+12G/1+D51ORwreJCw/bk3O6uVOCQ6BMUK7Z3cqI4XFKfGoBAm0lAXBnwHfNi0RRZH4shbHhT51L9d+ALotUK7ukCyAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image_1.png\"\n        title=\"image_1.png\"\n        src=\"/static/f7ab421fbff49831346fe6100247abc1/37523/image_1.png\"\n        srcset=\"/static/f7ab421fbff49831346fe6100247abc1/e9ff0/image_1.png 180w,\n/static/f7ab421fbff49831346fe6100247abc1/f21e7/image_1.png 360w,\n/static/f7ab421fbff49831346fe6100247abc1/37523/image_1.png 720w,\n/static/f7ab421fbff49831346fe6100247abc1/302a4/image_1.png 1080w,\n/static/f7ab421fbff49831346fe6100247abc1/e515d/image_1.png 1430w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>전반적인 GUI는 위와 같습니다. 가로/세로 규격이 일정 기준 이상 맞지 않는다면 ‘적정 수준 입니다’라는 텍스트가 바뀝니다.</p>\n<p><img src=\"/68c5d229d6a96a98d6cf780bfd40b4fc/image_2.gif\" alt=\"image_2.jif\"></p>\n<p>스크롤 속도의 경우, 코드 상 임의로 수정해서 사용할 수 있습니다. 캡처도구를 이용했을 때 제일 이미지 인식 정확도가 좋은 것 같군요</p>\n<br/>\n<p>단, 무한 스크롤에 대한 방법은 셀레니움이나 BeautifulSoup와 같은 크롤링 도구와는 다르게 찾기 어려웠습니다. 그래서 사용자가 직접 고려해서 몇 번 스크롤을 내릴지 판단해야합니다. 화면 규격에 따라 스크롤 정도가 다르니 절대적인 기준을 세우기 어려웠습니다.. 🤔</p>\n<br/>\n<p>또한 한 페이지 당 여러 이미지를 인식하는 것도 수정할 점인 것 같습니다. 이는 locateAllOnScreen을 통해 수정 가능할 듯 싶군요.</p>\n<br/>\n<h2 id=\"5-소감\" style=\"position:relative;\"><a href=\"#5-%EC%86%8C%EA%B0%90\" aria-label=\"5 소감 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 소감</h2>\n<p>pyautogui, tkinter, pillow 등을 한번 직접 사용하면서, 뭐든 한번씩 만져보는게 중요한 것 같습니다. 또한 이러한 모듈을 사용할 때, 데이터를 가공하는 과정이 프로그램의 성능을 좌우짓는다는 걸 더욱 체감하게 되었습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1%EA%B3%84%EA%B8%B0\">1.계기</a></p>\n</li>\n<li>\n<p><a href=\"#2%EC%84%A4%EA%B3%84\">2.설계</a></p>\n<ul>\n<li><a href=\"#%EC%BA%A1%EC%B2%98-%EB%8F%84%EA%B5%AC%EC%9D%98-%EC%9D%B4%EC%9A%A9\">캡처 도구의 이용</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EA%B5%AC%ED%98%84\">3. 구현</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B0%9B%EC%95%84%EC%84%9C-%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C-%EB%B3%B5%EC%82%AC\">이미지 받아서 클립보드 복사</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%EA%B2%B0%EA%B3%BC-%EB%B0%8F-%EA%B0%9C%EC%84%A0%ED%95%A0-%EC%A0%90\">4. 결과 및 개선할 점</a></p>\n</li>\n<li>\n<p><a href=\"#5-%EC%86%8C%EA%B0%90\">5. 소감</a></p>\n</li>\n</ul>\n</div>","excerpt":"1.계기 한/글 문서에는 글자를 한번에 바꿔주는 기능은 있으나, 한번에 그림을 바꾸진 못합니다. 마침 pyautogui의 locateOnScreen 함수를 이용하면 이를 보완하는 것이 가능할 것 같았습니다. 2.설계 처음보는 누구나 사용할 수 있도록 파이썬 내장 모듈인 tkinter와 PIL인 pillow를 이용해서 GUI 형식으로 만들었습니다. 한/글 문서의 한번에 바꾸기에서 바꿀 글자와 바꾼 글자를 입력해야 하듯이 GUI내에서도 바꿀 이미지와 바꾼이미지를 입력받습니다. 캡처 도구의 이용 이미지는 가지고 있는 노트북 혹은 컴퓨터의 모니터 크기에 따라 크기가 달라집니다. 또한 한/글 문서의 확대 수준에 따라서도 바뀝니다. 이는 이미지를 인식하는데 있어 정확도를 감소시킵니다. 따라서 윈도우에 내장되어 있는 캡처도구를 통해 이미지의 규격을 각 기기마다 통일 시켜야합니다. 뿐만 아니라 셀 안의 이미지를 삽입하는 경우, 사진이 한쪽으로 쏠리기도 합니다. 번거롭지만 이미지의 가로/세로 크기…","frontmatter":{"date":"October 18, 2022","title":"Python - 화면 인식을 통한 자동화 프로그램 만들기","categories":"Data-Science","author":"DEVEL","emoji":"🖊️"},"fields":{"slug":"/data-science-1/"}},"next":null,"prev":{"id":"5763bf30-1706-5bff-81c9-0201a7ea0057","html":"<br/>\n<h1 id=\"사용한-기술-스택\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%ED%95%9C-%EA%B8%B0%EC%88%A0-%EC%8A%A4%ED%83%9D\" aria-label=\"사용한 기술 스택 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용한 기술 스택</h1>\n<br/>\r\n- tailwindcss : 조금 외우기만 하면 빠르고 간편하고 수정도 쉽고 next.js와 호환성도 좋습니다.\r\n<br/>\r\n- sanity.io : 벡엔드없이 비개발자가 컨텐츠 관리를 쉽게 할 수 있는 Headless CMS입니다.\r\n<br/>\r\n- vercel : 원클릭으로 정적 컨텐츠를 쉽게 배포할 수 있는 호스팅 사이트입니다.\n<br/>\n<h1 id=\"애니메이션-처리\" style=\"position:relative;\"><a href=\"#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%B2%98%EB%A6%AC\" aria-label=\"애니메이션 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>애니메이션 처리</h1>\n<br/>\r\n- framer-motion : 애니메이션을 위한 패키지로 css 상태 값을 부드럽게 연결해 줍니다.\r\n<br/>\r\n- react-simple-typewriter : Typewriter훅과 Cursor를 통해 쉽게 TypeWrite 효과를 줄 수 있는 패키지입니다.\r\n<br/>\r\n- tailwind-scrollbar : tailwind를 통해 커스텀 스크롤바를 설정할 수 있습니다.\r\n<br/>\n<h1 id=\"tailwindcss에-대한-소감\" style=\"position:relative;\"><a href=\"#tailwindcss%EC%97%90-%EB%8C%80%ED%95%9C-%EC%86%8C%EA%B0%90\" aria-label=\"tailwindcss에 대한 소감 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tailwindcss에 대한 소감</h1>\n<br/>\n<p>우선 tailwindcss는 굉장히 편리합니다. styled-components나 emotion과 비교한다면 가독성면에서는 조금 뒤쳐질지라도 컴포넌트를 나누어 코드를 분할한다면 크게 문제가 되는 정도가 아닙니다.\r\n<br/>\r\n오히려 css를 쉽고 빠르게 바꿀 수 있어 기존의 CRA에서 styled-component를 사용하던 때와 비교한다면 next.js + tailwindcss는 몇 배는 빠른 속도로 작업을 가능케 합니다.\r\n<br/>\r\n애니메이션 처리는 믿고 쓰는 framer-motion… 애니메이션 이전 상태 값, 중간 상태 값, 이후 상태 값만 입력해주면 되서 굉장히 편리합니다.\r\n<br/></p>\n<h1 id=\"sanityio-소감\" style=\"position:relative;\"><a href=\"#sanityio-%EC%86%8C%EA%B0%90\" aria-label=\"sanityio 소감 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sanity.io 소감</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEcElEQVQ4y72UW2xUVRSG/3NqfOBJgRjjC8EYojEkqIAhBPHCJTEgiBgNwdJAQ1uhAcFGIoYqQUoVWoSIkkChRQZDKYUWpNyaYpFLaZna0s6FtjNzzj63mXOZ02mnnZnOWWaKVBNN9EX/5EvWTvb+s/baay/g/5LzK0DdgLdnGqgdXKX/KJaIhLdFQn5wBPmhkX82yQ+lkdeXQl4ghVVBwsaAjjppI+gu8BERvgwIfE6QuFyRUCASVlzt/XsjWZZHkWQZcXcr7hBhHRFAhE7xMk/t/FO7ibBd1LCFCGsON/JEhHv3fFBVdYwxZRZDQzHcJwLl5yKzuYzoURBlkZIC1Ux9rcLPzhcwulBGNHHe9mrg1RKu4cJ1GIYBXddHGVPG4CE5l3p4zNyGhftvz97sunaYiCa6iSbsZYlwXt8wLa660Qbg8cy5fQfr+HTageMQtLD1h+GSt4qgaSoflhikkLChpcMndHlv3RcCAaqrvWruv9gmdJh2ovFu11B2Xil5uryCqioCY+wTWWKQJcYfl2IPzA60ejBr8iJ4u3xZwr1uhDV1p783RBFLJNfxH1PzFm6ixuutFLNt0iSNqmt/TvtCKukRk5gaKbNUFZKmZ4ERDkUcgIoXA5icue5ooS3LLo7Gh6nrZnPy2x2r6FrznfRwfCCtyEFH13yOEfE5styVtMK99MuZc+UtkX4MSr087hBK0pmHLCtA4bJ1WUtffg/c3E/nVlTWB1KeFgpdqXeCIYkMQyVZi5PuLyGndz4lg2uJQh849v1lVOrtNrf3U84GhbBDTPLFmc7w1VRydGgL6ODmSZ+1S3bVpSYSLtWmM/WTFYXCmkyaniTD9zmRWkSOWUkU2UVWb3aq1OejOo/gHXeXgNNu1PZIQKxqN0dfZ4P2FjxfedN9YmVbxLkdkNKqJDmMSU5Ykx3DSjvRni8c0rY56cgBh/S9zmAgN/VdXTU1VhzZt+vIZZS7zvCDR78C7Ko9WLt0/SOFywsBbsG8SVNWUFNTSzoSUUkQRNI0lUwrRpp4iyIBF2l9NRQPn6OzJ0ucZ15cRY9NXf/G0y98iOdm5vGmax9gHSt/2Iv8pncLd70+a7X/2uXmuBW1bFVV+3Xd6I9GLduKDtpmNGUbVtIeSpC5u/zMyPJ3tgrA+CeACXhywptcoN4FdJ49gc4fvsf5hoZnqfnUdBLaF8mejqL+ocT7lmmuMU0zVzeMXMMI5xq6vHrA1la6Pd61xSUVO3fscX08P6d0+kuLt2JBdgk/mtnIN0UIXzyNZH0V/ETj2vqkaW4pPEMWhRkiY7MZY3MYY3MZY6+IjM3RJDbLLSizPaY9Q08NT/nJSow/GSecjaZ+/3ZlGxG7UgO6UIkoETpUA02yBTUUQFAQIPyJYEiAKYbQ0COjdSCBOBHOWwmcHCTUxpwHhj0hAZqqggZ0RDUFnYLEtQgKp6sKJ8sypyjKGJKscJYqczfEMHfFz7huSeWqQyYOBmwcC1p/HV+KoozF/xZN00anVSb+T/QbXX1jb/tGmDAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"협업\"\n        title=\"협업\"\n        src=\"/static/abfa503f7b6bd3a1d320d310e0a37ec7/0b533/web-dev-1.png\"\n        srcset=\"/static/abfa503f7b6bd3a1d320d310e0a37ec7/e9ff0/web-dev-1.png 180w,\n/static/abfa503f7b6bd3a1d320d310e0a37ec7/f21e7/web-dev-1.png 360w,\n/static/abfa503f7b6bd3a1d320d310e0a37ec7/0b533/web-dev-1.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\r\nsanity.io는 비 개발자와 협업하는 경우 사용하면 좋을 것 같습니다. next.js로 만든 정적 페이지는 서버가 존재하지 않기에 내용을 수정하기 위해서는 귀찮게 하나하나 바꾸어야 합니다. 하지만 sanity를 사용하면 브라우저로 데이터를 전송할 수 있는 폼이 생성됩니다. 이를 통해 쉽게 데이터를 수정할 수 있고, 수정을 위한 인증과정 또한 sanity를 거쳐야 하기에 안전합니다.\r\n<br/>\r\nsanity는 localhost에서 관리됩니다. 이말인 즉슨 API가 localhost로부터 전달된다는 것이죠.\r\n<br/>\r\n벡엔드 서버(Spring이든 Node이든)를 구축해 배포해서 실시간으로 프론트엔드와 데이터를 주고 받는 그림은 아니라는 겁니다.\r\n<br/>\r\n물론 이러한 방식이 나쁘다는 것은 아닙니다. 속도면에 있어서는 굉장히 빠르죠. API가 빌드 이전에 fetch되어서 배포되는 시점에는 이미 완성된 그림이기에 벡엔드 서버를 직접 구축하는 방식보다는 훨씬 빠릅니다.\r\n<br/>\r\n정적인 사이트이지만, 데이터 수정이 CMS에서 쉽게 이루어지는 그 자체만으로 장점입니다.\r\n<br/>\r\n하지만, 이 과정을 위해 기존의 코드를 수정하고 Sanity기본 설정을 하는 과정이 조금 귀찮을 뿐입니다. 그래서 비 개발자와 협업할 때 좋은 것이죠.\r\n<br/>\n<h1 id=\"seo최적화에-적합한-nextjs\" style=\"position:relative;\"><a href=\"#seo%EC%B5%9C%EC%A0%81%ED%99%94%EC%97%90-%EC%A0%81%ED%95%A9%ED%95%9C-nextjs\" aria-label=\"seo최적화에 적합한 nextjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SEO최적화에 적합한 Next.js</h1>\n<br/>\r\n리액트는 SPA(Single Page Application)입니다. SPA에서의 url변화는 내부적인 변화일 뿐이고, 실제 브라우저에 재요청하는 것이 아닙니다. 즉, SEO정보를 수집하는 구글봇 입장에서는 이를 식별할 수가 없습니다. \r\n<br/>\r\n```javascript\r\nconst router = useRouter();\r\n  useEffect(() => {\r\n    const handleRouteChange = (url) => {\r\n      gtag.pageview(url);\r\n    };\r\n    router.events.on(\"routeChangeComplete\", handleRouteChange);\r\n    return () => {\r\n      router.events.off(\"routeChangeComplete\", handleRouteChange);\r\n    };\r\n  }, [router.events]);\r\n```\r\n<br/>\r\n따라서 _app.js에 위 내용을 추가해서 이를 해결합니다.\r\n<br/>\r\n또한 next-seo 패키지를 통해 기본 Meta를 정의할 수도 있죠.\n<br/>\r\n## SSR, CSR, ISR, SSG\r\n<br/>\r\n### CSR\r\n<br/>\r\n기본적으로 React.js에서 제공하는 렌더링 방식은 CSR(Client Side Rendering)입니다.\r\n<br/>\r\n이 방식은 javascript를 지닌 빈 index.html을 받아와서 AJAX를 통해 파일을 받죠. 즉, 빈 컨텐츠이기에 검색엔진에게 있어서는 좋지 않습니다.\r\n<br/>\r\n또한 후속 페이지 로드 시간이 빠르지만 초기 로드 시간은 느려 사용자 경험(UX)에 있어서도 않좋습니다.\r\n<br/>\r\n### SSR\r\n<br/>\r\n말그대로 Server Side Rendering, 서버의 HTML로 렌더링합니다. 이는 초기로드 시간이 빠릅니다. 미리 렌더링 되있었기 때문이죠. 그렇기에 TTI(Time to interactive)도 빠르게 수행합니다. \r\n<br/>\r\n단점은 페이지 이동 시마다 페이지를 생성하는데 시간이 걸리기에 TTFB(Time to First Byte)가 느립니다.\r\n<br/>\r\n### SSG\r\n<br/>\r\nStatic Site Generator는 SSR처럼 서버로부터 완성된 HTML을 받아옵니다. 차이점은 요청 시점에 서버에서 파일을 만드는 SSR과 다르게 파일 생성 시점이 빌드시점이라는 것입니다. 이때 HTML은 엣지캐싱됩니다.(캐싱 서버 이용, 대표적으로 CDN)\r\n<br/>\r\n빌드 타임에 HTML파일이 생성되기에 빠른 TTI와 TTFB를 가집니다. 또한 이미 생성된 HTML파일을 받아 SEO친화적입니다.\r\n<br/>\r\n### ISR\n<br/>\r\nSSR과 SSG의 하이브리드 솔루션입니다. SSG는 런타임 도중 실시간 데이터를 받기 힘듭니다.(build때 이미 받았기 때문)\n<br/>\n<p>웹 페이지 방문 시 캐시된 페이지를 제공하고(fallback page), API데이터가 변경할 때마다 revalidate하여 업데이트 된 새로운 페이지로 빌드됩니다.</p>\n<br/>\n<p>ISR을 통해 페이지가 빌드되었기에 사용자 경험 뿐만 아니라, 실시간 데이터 업데이트가 가능합니다.</p>\n<br/>\n<p>확실히 next.js를 사용할 경우 받을 수 있는 이점이 많은 것 같습니다. 단 Sanity는 localhost에서 돌아가기에 배포된 이후 데이터 변경은 힘들더군요.</p>\n<br/>\n<h1 id=\"vercel로-빌드하기\" style=\"position:relative;\"><a href=\"#vercel%EB%A1%9C-%EB%B9%8C%EB%93%9C%ED%95%98%EA%B8%B0\" aria-label=\"vercel로 빌드하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vercel로 빌드하기</h1>\n<br/>\r\n은근 빌드 시 오류가 생겼습니다. EPERM 권한 에러가 제일 많이 발생했습니다.\r\n<br/>\r\n그래서 terminal을 관리자 권한으로 실행해 빌드하고 vercel/next/data부분을 삭제해주었습니다.\r\n<br/>\r\n이후 deploy하니까 잘 되었습니다.\r\n<br/>\r\n이거 말고도 나타나는 npm 에러들은 아래 방법으로 대부분 해결 됩니다.\r\n<br/>\r\n1) npm cache clean --force\r\n<br/>\r\n2) node 재설치(혹은 버전 바꾸기)\r\n<br/>\r\n3) package.json.lock 삭제(의존성 꼬인 경우)\r\n<br/>\r\n4) node_module 재설치\r\n<br/>\n<h1 id=\"완성된-앱\" style=\"position:relative;\"><a href=\"#%EC%99%84%EC%84%B1%EB%90%9C-%EC%95%B1\" aria-label=\"완성된 앱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>완성된 앱</h1>\n<blockquote>\n<p><a href=\"https://sj-portfolio.vercel.app/\">완성된 앱!!</a></p>\n</blockquote>\n<br />\n<h1 id=\"-references\" style=\"position:relative;\"><a href=\"#-references\" aria-label=\" references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👏 References</h1>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=urgi2iz9P6U&#x26;list=PL-sctLNt2NB8R2O3ltRnl2_Xiu6HfL95Q&#x26;index=1\">https://www.youtube.com/watch?v=urgi2iz9P6U&#x26;list=PL-sctLNt2NB8R2O3ltRnl2_Xiu6HfL95Q&#x26;index=1</a></li>\n<li><a href=\"https://ajdkfl6445.gitbook.io/study/web/csr-vs-ssr-vs-ssg#csr\">https://ajdkfl6445.gitbook.io/study/web/csr-vs-ssr-vs-ssg#csr</a></li>\n</ul>","frontmatter":{"date":"October 26, 2022","title":"Next.js와 Sanity로 포트폴리오 사이트 만들기","categories":"WEB-DEV","author":"DEVEL","emoji":"🧢"},"fields":{"slug":"/web-dev-1/"}},"site":{"siteMetadata":{"siteUrl":"https://hsjni0110.github.io/devel-repo","comments":{"utterances":{"repo":"hsjni0110/hsjni0110.github.io"}}}}},"pageContext":{"slug":"/data-science-1/","nextSlug":"","prevSlug":"/web-dev-1/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}