{"componentChunkName":"component---src-templates-blog-template-js","path":"/web-dev-4/","result":{"data":{"cur":{"id":"ab869cab-179b-515d-bb18-07ccd0144ae9","html":"<h1 id=\"nextjs-13-버전의-대표적인-변화점\" style=\"position:relative;\"><a href=\"#nextjs-13-%EB%B2%84%EC%A0%84%EC%9D%98-%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%EB%B3%80%ED%99%94%EC%A0%90\" aria-label=\"nextjs 13 버전의 대표적인 변화점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js 13 버전의 대표적인 변화점</h1>\n<p>공식문서에서 설명하는 Next.js의 대표적인 변화는 다음과 같습니다.</p>\n<br />\n<hr>\n<h2 id=\"appdirectorybeta\" style=\"position:relative;\"><a href=\"#appdirectorybeta\" aria-label=\"appdirectorybeta permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>app/Directory(beta)</h2>\n<p>: 파일 기반 라우팅에서 디렉터리 기반 라우팅으로 바뀌었다는 점, app 디렉터리 안에 파일들은 기본적으로 Server Component라는 점</p>\n<br />\n<p>기존에 사용하던 파일 기반 라우팅 구조에서 app 디렉토리 하위에 디렉토리를 기반으로 하는 라우팅 구조로 바뀌었습니다.</p>\n<br />\n<p>한 디렉토리에서 테스트, 스타일, 레이아웃, 부가적인 관련 컴포넌트를 전부 함께 배치하라는 것 같습니다.</p>\n<br />\n<p>익숙해지면 나름 편리할 듯 합니다.</p>\n<br />\n<hr>\n<br />\n<p>app 디렉터리 안에서는 리액트 서버 컴포넌트를 사용합니다. 이는 React 18에 도입되는 최신 기술이며 서버에서 동작합니다.</p>\n<br />\n<p>즉, 서버에서 데이터 패칭 등 수행하고, 클라이언트에서 연속된 API 호출을 막을 수 있습니다.</p>\n<br />\n<p>그 이외에 app 디렉토리 안에 넣을 수 있는 몇 가지 지정 키워드 파일이 있습니다.</p>\n<ul>\n<li>Layout</li>\n<li>Page</li>\n<li>Loading</li>\n<li>Error</li>\n<li>Template</li>\n<li>Head</li>\n<li>Not Found</li>\n</ul>\n<br />\n<p>사용법은 간단하니 DOC 참고하시길</p>\n<br />\n<h3 id=\"그렇다면-client-component는-언제-쓰는데\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-client-component%EB%8A%94-%EC%96%B8%EC%A0%9C-%EC%93%B0%EB%8A%94%EB%8D%B0\" aria-label=\"그렇다면 client component는 언제 쓰는데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그렇다면 Client Component는 언제 쓰는데?</h3>\n<br />\n<p>친절하게 Next.js 공식문서에서 설명해 줍니다.</p>\n<br />\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 598px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAADKElEQVQ4y3VU2U4jMRCcB1YCbWbGbs99JUDCTSCEDVoBEhKXBIIX/v9balWdeAjs7kOr7bZdrj6D5+dnfHx84P7+Hjc3N7i7uwNtLy8veHx8xPX1NRaLBR4eHvQez2l/e3vD6+srnp6e8P7+jtPTU4RhiKCqKmxvb2M4HKKua9Vd16mm8Jx26p2dHV23bYu9vT3d8w7f53kOYwyC8XiM8/NzTKdT1fP5HBcXF5jNZjg7O1Mb9zynjXJ8fIyTk5P+nOwIpoC8cHt7i6urKxwdHellXtjd3VUQyuHhIQ4ODvSc2sv+/n5vI5i1FgEfEoC00zRFlmVKvygKJEmi4u1c+3Nq2p1ziKJIwZQhY0JQxmMymYAhoPATMiA7z4Kae2+nu3zrAZUhfyIQA+0D3DQNgiD4SxJxuJjNMBgMdJ8XBc5nM2xtbWFjYwNxHCOgGwRgFsuyVE1XNjc3e+GDHxs/kLUlLn8vcDadYhCGqKsCi1+XmiCWDJkGfOzB6D6Fn4iIxkclSeBiC9lvETYpop8DWBF0pUMqMQZhBOdk6TIBPRCZes0QUPtgmzCG7FRwXQExFsZaNJKidKmC9zFkxljIFIJ4/f2DjA9HJaTJYWOjgLVLkIvTdQ/I8hiNRiq+S3w5rJeNMwLb5rBV1gMWkiD7DrjO0Atjut5ynqHQ3foTsHT/AfTMyNIX+PeidlZguhymSiEEFIsyFmRGdN0DkgGLls1OUB8zHz8W8+V8jnbYoYkElXGICRDFMJMapit03QMyAexjDgACslyYVWoy44eMszhBKg7JWkalSCFZstyv7AHrjyzYTuwYrjlFuGb78TOyD+MIrUtRikNszZLVbr1M1HeGHKBkSNf9SGJvM37KhKzXs0qXjYW0OaTMdN0z9BNkfYqwJ9cbXqwg1rpLFVQBYwPZrvq67AEJsqzD4Zd65N5PZ+5TxtM6FL5MCDIqYVdl1LtMt1rtjg5N06KqG4hLvrSTtp+1qGStM8hwWEBWhW6lH18pinYMqSdw9Vgl6Q7h8gZ2NYXFWk3EMimJum8jA5nUWuxc94C++ZePzecw+IfYlfQ2Zf71zh8/wFwzBMwMSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image_1.png\"\n        title=\"image_1.png\"\n        src=\"/static/35e55ec3510108c0449d903ac59302a4/0c69d/image_1.png\"\n        srcset=\"/static/35e55ec3510108c0449d903ac59302a4/e9ff0/image_1.png 180w,\n/static/35e55ec3510108c0449d903ac59302a4/f21e7/image_1.png 360w,\n/static/35e55ec3510108c0449d903ac59302a4/0c69d/image_1.png 598w\"\n        sizes=\"(max-width: 598px) 100vw, 598px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br />\n<p>우리가 기존에 Server 컴포넌트를 사용했던 이유는 보안 키 같은 중요한 요소들이 노출될 위험성도 감추고, 사용자 경험도 증가시켜준다는 점 등 이었습니다..</p>\n<br />\n<p>그렇다면 Client 컴포넌트는 언제 사용하냐?</p>\n<br />\n<p>위 사진 처럼</p>\n<br />\n<ul>\n<li>\n<p>eventListeners(onClick이나 onChange같은 것들)를 사용하는 때</p>\n</li>\n<li>\n<p>Lifecycle Effects, 즉 브라우저에서 구동되는 useState(), useEffect() 같은 것들을 사용하거나 이를 기반으로 한 custom hook을 사용하는 경우</p>\n</li>\n</ul>\n<br />\n<p>와 같이 주로 상태값을 요구로 하거나, 브라우저에서 처리할 요소들이 온다면 Client Component를 사용하는 듯 합니다.</p>\n<br />\n<p>app 디렉터리에서 Client 컴포넌트를 사용하는 법은 간단합니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">'use client'</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/navigation'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> FormEvent<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">Search</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token constant\">I</span> am a Search component<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Search<span class=\"token punctuation\">;</span></code></pre></div>\n<p>‘use client’ 문자열을 코드 맨 위에 붙이면 됩니다.</p>\n<br />\n<hr>\n<br />\n<h2 id=\"data-fetching\" style=\"position:relative;\"><a href=\"#data-fetching\" aria-label=\"data fetching permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Fetching</h2>\n<br />\n<p>데이터 패칭의 방법도 변화했습니다.</p>\n<br />\n<p>기존에 next.js에서 데이터 패칭을 위해 사용했던 SSR, SSG, ISR이 있고, getStaticProps / getServerSideProps 와 revalidate를 통해서 이 세개를 구현했었는데…</p>\n<br />\n<p>사실 캐싱된 데이터를 얼마나 가지고 있느냐의 차이일 뿐 거창하게 함수 이것 저것 써가면서 코드를 짰습니다.</p>\n<br />\n<p>이번에 13버전에서 바뀐 점은 이제 쉽게 SSR, SSG, ISR의 개념을 쉽게 적용할 수 있습니다.</p>\n<br />\n<p>첫 번째는 use hook을 사용하는 겁니다.</p>\n<br />\n<p>이전에는 getStaticProps 같은 지정 함수를 통해서 데이터를 fetch하고 이를 props로 전달해 컴포넌트의 인자로 다시 전달 받고 타입스크립트라면 타입도 체크해 주어야 하는 기나긴 과정을 거쳐야 했습니다.</p>\n<br />\n<p>하지만! 이제는 React에서 제공하는 use hook을 사용하면 됩니다.</p>\n<br />\n<p>이는 React에서 최근에 공개한 데이터를 가져오는 새로운 방법을 제공하는 기능입니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> use <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// use Hook을 이용해 제공</span>\r\n  <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Hello World<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"API 주소\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>위처럼 쉽게 데이터를 fetch받는 함수를 React 컴포넌트 안에 넣을 수 있습니다.</p>\n<br />\n<p>또한 SSR, SSG, ISR의 기능은 fetch API를 통해 구현할 수 있습니다.</p>\n<br />\n<p>SSR</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://jsonplaceholder.typicode.com/todos/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>todoid<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no-cache\"</span> <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<p>SSG</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://jsonplaceholder.typicode.com/todos/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>todoid<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no-cache\"</span> <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<p>ISR</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://jsonplaceholder.typicode.com/todos/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>todoid<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">revalidate</span><span class=\"token operator\">:</span> <span class=\"token number\">60</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<h2 id=\"turbopack\" style=\"position:relative;\"><a href=\"#turbopack\" aria-label=\"turbopack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Turbopack</h2>\n<br />\n<p>웹 개발을 위해서는 Rust 기반의 JS 번들링 툴이 필요하답니다. 이는 기존의 웹팩보다 700배 빠르고 Vite보다 10배 빠르게 Javascript를 컴파일 해주는 번들링 툴입니다.</p>\n<br />\n<p>하지만 안정화 된 후에 사용하는 것이 좋다고 합니다.</p>\n<br />\n<h2 id=\"nextimage와-nextfont의-layout-shift-방지\" style=\"position:relative;\"><a href=\"#nextimage%EC%99%80-nextfont%EC%9D%98-layout-shift-%EB%B0%A9%EC%A7%80\" aria-label=\"nextimage와 nextfont의 layout shift 방지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>next/Image와 next/font의 Layout Shift 방지</h2>\n<br />\n<p>이미지나 폰트의 로드가 느릴 경우 기존의 레이아웃이 밀리는 Layout Shift 현상이 발생할 수 있는데, next/Image는 이를 자동으로 처리해주고, 폰트도 지원해 줍니다.</p>\n<br />\n<p>또한 폰트는 구글 폰트가 기본적으로 내장됩니다.</p>\n<br />\n<h2 id=\"nextlink의-변화\" style=\"position:relative;\"><a href=\"#nextlink%EC%9D%98-%EB%B3%80%ED%99%94\" aria-label=\"nextlink의 변화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>next/Link의 변화</h2>\n<br />\n<p>이전에는 a태그를 Link태그 안에 넣어서 사용했어야 했는데, 이제는 Link만 넣어도 됩니다.</p>\n<br />\n<h2 id=\"og-image\" style=\"position:relative;\"><a href=\"#og-image\" aria-label=\"og image permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OG Image</h2>\n<br />\n<p>링크를 첨부할 때 같이 연관된 이미지가 뜨는 것을 OG Image 라고 합니다.</p>\n<br />\n<p>기존에 시간이 오래 걸리고 오류가 발생하기 쉬웠던 어려움을 개선하기 위해 동적 소셜 카드를 새롭게 생성하는 라이브러리 @vercel/og를 도입하였습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// pages/api/og.jsx</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ImageResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@vercel/og'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">runtime</span><span class=\"token operator\">:</span> <span class=\"token string\">'experimental-edge'</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ImageResponse</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token punctuation\">(</span>\r\n      <span class=\"token operator\">&lt;</span>div\r\n        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token number\">128</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">></span>\r\n        Hello<span class=\"token punctuation\">,</span> World<span class=\"token operator\">!</span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<h2 id=\"미들웨어-api-업데이트\" style=\"position:relative;\"><a href=\"#%EB%AF%B8%EB%93%A4%EC%9B%A8%EC%96%B4-api-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"미들웨어 api 업데이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>미들웨어 API 업데이트</h2>\n<br />\n<p>기존에 next.js 12에서 추가되었던 Middleware 기능이 개선되었습니다.</p>\n<br />\n<p>Request Header 값을 쉽게 세팅할 수 있습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// middleware.ts</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NextResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/server'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> type <span class=\"token punctuation\">{</span> NextRequest <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/server'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">request</span><span class=\"token operator\">:</span> NextRequest</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// 기존 헤더를 복사한 후 새로운 헤더를 셋팅</span>\r\n  <span class=\"token keyword\">const</span> requestHeaders <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Headers</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  requestHeaders<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x-version'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'13'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// NextResponse.rewrite에서도 직접 Reqeust header를 설정할 수 있습니다.</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">request</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">// New request headers</span>\r\n      <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> requestHeaders<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Set a new response header `x-version`</span>\r\n  response<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x-version'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'13'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>그리고 redirect 기능을 사용할 때, rewrite, redirect 기능을 사용하지 않고 json형태로 처리할 수 있습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// middleware.ts</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NextRequest<span class=\"token punctuation\">,</span> NextResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/server'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> isAuthenticated <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@lib/auth'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Limit the middleware to paths starting with `/api/`</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">matcher</span><span class=\"token operator\">:</span> <span class=\"token string\">'/api/:function*'</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">request</span><span class=\"token operator\">:</span> NextRequest</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// Call our authentication function to check the request</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isAuthenticated</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// 인증을 실패할 경우 오류 메시지를 json 형태로 담아 Response 처리</span>\r\n    <span class=\"token keyword\">return</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>\r\n      <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">success</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">'Auth failed'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token number\">401</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>하지만 지금은 이 기능을 사용하기 위해 next.config.js에서 부가 설정을 해주어야 합니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> nextConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">reactStrictMode</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">swcMinify</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token comment\">// option 추가</span>\r\n  <span class=\"token literal-property property\">experimental</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">allowMiddlewareResponseBody</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> nextConfig<span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<hr>\n<br />\n<h2 id=\"-references\" style=\"position:relative;\"><a href=\"#-references\" aria-label=\" references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👏 References</h2>\n<br />\n<ul>\n<li>\n<p><a href=\"https://velog.io/@woodong/Next.js-13-%EC%86%8C%EA%B0%9C#6-og-image-generation\">https://velog.io/@woodong/Next.js-13-%EC%86%8C%EA%B0%9C#6-og-image-generation</a></p>\n</li>\n<li>\n<p><a href=\"https://velog.io/@hang_kem_0531/Next.js-13%EC%9D%B4-%EB%82%98%EC%99%80%EB%B2%84%EB%A0%B8%EB%8B%A4#data-fetching\">https://velog.io/@hang_kem_0531/Next.js-13%EC%9D%B4-%EB%82%98%EC%99%80%EB%B2%84%EB%A0%B8%EB%8B%A4#data-fetching</a></p>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#appdirectorybeta\">app/Directory(beta)</a></p>\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-client-component%EB%8A%94-%EC%96%B8%EC%A0%9C-%EC%93%B0%EB%8A%94%EB%8D%B0\">그렇다면 Client Component는 언제 쓰는데?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#data-fetching\">Data Fetching</a></p>\n</li>\n<li>\n<p><a href=\"#turbopack\">Turbopack</a></p>\n</li>\n<li>\n<p><a href=\"#nextimage%EC%99%80-nextfont%EC%9D%98-layout-shift-%EB%B0%A9%EC%A7%80\">next/Image와 next/font의 Layout Shift 방지</a></p>\n</li>\n<li>\n<p><a href=\"#nextlink%EC%9D%98-%EB%B3%80%ED%99%94\">next/Link의 변화</a></p>\n</li>\n<li>\n<p><a href=\"#og-image\">OG Image</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AF%B8%EB%93%A4%EC%9B%A8%EC%96%B4-api-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\">미들웨어 API 업데이트</a></p>\n</li>\n<li>\n<p><a href=\"#-references\">👏 References</a></p>\n</li>\n</ul>\n</div>","excerpt":"Next.js 13 버전의 대표적인 변화점 공식문서에서 설명하는 Next.js의 대표적인 변화는 다음과 같습니다. app/Directory(beta) : 파일 기반 라우팅에서 디렉터리 기반 라우팅으로 바뀌었다는 점, app 디렉터리 안에 파일들은 기본적으로 Server Component라는 점 기존에 사용하던 파일 기반 라우팅 구조에서 app 디렉토리 하위에 디렉토리를 기반으로 하는 라우팅 구조로 바뀌었습니다. 한 디렉토리에서 테스트, 스타일, 레이아웃, 부가적인 관련 컴포넌트를 전부 함께 배치하라는 것 같습니다. 익숙해지면 나름 편리할 듯 합니다. app 디렉터리 안에서는 리액트 서버 컴포넌트를 사용합니다. 이는 React 18에 도입되는 최신 기술이며 서버에서 동작합니다. 즉, 서버에서 데이터 패칭 등 수행하고, 클라이언트에서 연속된 API 호출을 막을 수 있습니다. 그 이외에 app 디렉토리 안에 넣을 수 있는 몇 가지 지정 키워드 파일이 있습니다. Layout Page Lo…","frontmatter":{"date":"December 09, 2022","title":"Next.js 13 버전 가볍게 정리","categories":"WEB-DEV","author":"DEVEL","emoji":"🦊"},"fields":{"slug":"/web-dev-4/"}},"next":{"id":"3ce9d2b2-ef6a-5bbf-905b-1b606cf1aeb4","html":"<p>아래는 인증을 위한 전역 컨텍스트를 모아둔 파일입니다.</p>\n<p>firebase의 auth 함수들을 이용해 인증 상태를 관리합니다.</p>\n<p>그리고 그 결과를 전역 컨텍스트 createContext()를 만들어 Provider안에 value로 전달해 전역적으로 적용 되게끔 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> createContext<span class=\"token punctuation\">,</span> useContext<span class=\"token punctuation\">,</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> onAuthStateChanged<span class=\"token punctuation\">,</span> createUserWithEmailAndPassword<span class=\"token punctuation\">,</span> signInWithEmailAndPassword<span class=\"token punctuation\">,</span> signOut <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase/auth\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> auth <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../config/firebase\"</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useAuth</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>AuthContext<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">const</span> AuthContext <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createContext</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthContextProvider</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> children<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactNode <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">,</span> setUser<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> unsubscribe <span class=\"token operator\">=</span> <span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                    uid<span class=\"token operator\">:</span> user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">,</span>\r\n                    email<span class=\"token operator\">:</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\r\n                    displayName<span class=\"token operator\">:</span> user<span class=\"token punctuation\">.</span>displayName<span class=\"token punctuation\">,</span>\r\n                    \r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">signup</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">createUserWithEmailAndPassword</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">login</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">signInWithEmailAndPassword</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">logout</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">await</span> <span class=\"token function\">signOut</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>AuthContext<span class=\"token punctuation\">.</span>Provider value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> login<span class=\"token punctuation\">,</span> signup<span class=\"token punctuation\">,</span> logout <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AuthContext<span class=\"token punctuation\">.</span>Provider<span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>커스텀 app.tsx는 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token string\">'../styles/globals.css'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> AppProps <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/app'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SessionProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/react\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthContextProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../context/AuthContext'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/router'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> ProtectedRoute <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/ProtectedRoute'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> AuthRequired <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'/administor'</span><span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> AppProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>AuthContextProvider<span class=\"token operator\">></span>\r\n\r\n      <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>AuthRequired<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>ProtectedRoute<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ProtectedRoute<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n      \r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AuthContextProvider<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyApp</code></pre></div>\n<p>이렇게 프로바이더로 감싸주면, 전역 컨텍스트가 children으로 전달됩니다.</p>\n<p>로그인, 로그아웃, 회원가입 함수가 포함된 전역 컨텍스트를 사용하는 방법은 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PhotoIcon <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@heroicons/react/24/solid'</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> ContentDropDown <span class=\"token keyword\">from</span> <span class=\"token string\">'../../components/ContentDropDown'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../../components/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useForm<span class=\"token punctuation\">,</span> SubmitHandler <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-hook-form\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useAuth <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../context/AuthContext'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Inputs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\r\n  password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Props</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">signin</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> login <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    email<span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\r\n    password<span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> register<span class=\"token punctuation\">,</span> handleSubmit<span class=\"token punctuation\">,</span> watch<span class=\"token punctuation\">,</span> formState<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> errors <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useForm</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Inputs<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n  <span class=\"token keyword\">const</span> onSubmit<span class=\"token operator\">:</span> SubmitHandler<span class=\"token operator\">&lt;</span>Inputs<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">await</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">'bg-light-1 h-screen flex justify-center items-center'</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">'bg-white px-[20px] py-[60px] rounded-md flex flex-col items-center'</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>span className<span class=\"token operator\">=</span><span class=\"token string\">'text-[#5d5b8d] font-semibold text-2xl mb-4'</span><span class=\"token operator\">></span>로그인<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>form className<span class=\"token operator\">=</span><span class=\"token string\">'flex flex-col gap-4'</span> onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span>onSubmit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">'RegisterInput'</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"email\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">'display name'</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>required<span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">'RegisterInput'</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">'password'</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>required<span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n\r\n            <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span> className<span class=\"token operator\">=</span><span class=\"token string\">'bg-[#7b96ec] text-white p-3 font-bold border-none cursor-pointer'</span><span class=\"token operator\">></span>Sign In<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">'text-[#5d5b8d] text-base mt-2'</span><span class=\"token operator\">></span>Don't you have an account<span class=\"token operator\">?</span> SignUp<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> signin</code></pre></div>\n<p>사실 이미 함수를 컨텍스트에 선언해 두었기에 바로 접근이 가능합니다.</p>\n<p>페이지 접근 제한은 _app.tsx에서 설정합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token string\">'../styles/globals.css'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> AppProps <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/app'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SessionProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/react\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthContextProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../context/AuthContext'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/router'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> ProtectedRoute <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/ProtectedRoute'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> AuthRequired <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'/administor'</span><span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> AppProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>AuthContextProvider<span class=\"token operator\">></span>\r\n\r\n      <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>AuthRequired<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>ProtectedRoute<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ProtectedRoute<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n      \r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AuthContextProvider<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyApp</code></pre></div>\n<p>위처럼 접근 제한 url을 설정한 뒤, 함수를 통해 현재 url이 접근 제한되는 url이라면, 따로 다른 Route 컴포넌트로 처리해주는데,</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/router'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useAuth <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../context/AuthContext'</span>\r\n\r\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Props</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ProtectedRoute</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>children<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactNode<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/login'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>router<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>user<span class=\"token operator\">?</span> children <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> ProtectedRoute</code></pre></div>\n<p>이는 위처럼 useEffect와 router를 통해서 login으로 푸쉬해 줍니다.</p>","frontmatter":{"date":"November 17, 2022","title":"Next.js Firebase 인증정보를 Context로 관리하기","categories":"WEB-DEV","author":"DEVEL","emoji":"💡"},"fields":{"slug":"/web-dev-3/"}},"prev":{"id":"1714b680-a0e8-57c1-85a3-9a79e189b356","html":"<h1 id=\"1-개요\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94\" aria-label=\"1 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요</h1>\n<br />\n<p>웹 스크래핑에 있어 파이썬은 너무나도 최고의 도구입니다. selenium, scrapy, beautifulsoup 등의 모듈은 스크래핑 과정을 간편화 해줍니다.</p>\n<br />\n<p>뿐만 아니라 파이썬의 데이터 분석 도구(numpy, pandas, 시각화를 원한다면 matplotlib 등)는 데이터를 추가적으로 가공하고 원하는 DB형태로 만들기 쉽습니다.</p>\n<br />\n<p>하지만 파이썬의 대표적인 GUI모듈인 tkinter, PyQt5 같은 도구들은 javascript로 만드는 웹앱 등에 비해서는 표현할 수 있는 형태도 한정적이고 무엇보다 디자인적으로 예쁘지 않습니다.</p>\n<br />\n<p>nextron(next.js + electron.js)으로 만드는 웹 앱은 main이라는 벡엔드 서버와 renderer라는 화면에 표현되는 프론트 부분으로 나뉩니다.</p>\n<br />\n<p>REST API로 벡엔드 서버와 통신하는 웹 프로그래밍과는 달리 nextron(electron도 동일)은 ipc 통신(프로세스 간의 통신 지원)을 통해서 벡엔드 서버와 통신합니다.</p>\n<br />\n<p>벡엔드 서버는 node.js이며 프론트 엔드는 next.js프레임워크를 사용하기 때문에 웹 스크래핑 및 가공 작업은 벡엔드에서, 사용자에게 좋은 UI경험을 지원하는 것은 프론트에서 할 수 있습니다.</p>\n<br />\n<p>물론 node.js를 사용하기 때문에 파이썬의 우월한 모듈들은 사용하기 어려우나, 기본적으로 브라우저에서 작동하는 언어는 javascript입니다.</p>\n<br />\n<p>특히 요즘 selenium보다 성능이 좋다고 알려지는 자동화 테스트 도구인 playwright를 사용하는 추세이고, 이 playwright는 python과 node.js 모두 지원하고 있습니다.</p>\n<br />\n<p>또한 beautifulSoup를 대신할 cheerio모듈도 우수한 성능을 지니고 있기에 사용하지 않을 이유는 또 없었습니다.</p>\n<br />\n<h1 id=\"2-python-vs-javascript-개인적-견해\" style=\"position:relative;\"><a href=\"#2-python-vs-javascript-%EA%B0%9C%EC%9D%B8%EC%A0%81-%EA%B2%AC%ED%95%B4\" aria-label=\"2 python vs javascript 개인적 견해 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. python vs javascript 개인적 견해</h1>\n<br />\n<p>python은 데이터를 정말 제 기능을 다해주는 최고의 도구입니다.</p>\n<br />\n<p>특히 데이터 크롤링/마이닝, 분석, 머신러닝 등… 원하는 결과물을 산출하는데 있어서 이것만큼 편한 것은 찾기 힘든 것 같습니다.</p>\n<br />\n<p>javascript는 좋은 UI 경험을 제공해 주는 것 같습니다.</p>\n<br />\n<p>데이터 크롤링의 경우 python과 같이 둘다 모듈에 의지하기에 큰 차이는 없습니다.</p>\n<br />\n<p>그러나 가공하고 원하는 DB형태로 만드는 작업은 python에 비해 뒤쳐집니다.\r\n(만들려면 만들 수 있지만, 파이썬에 비해선 그 과정이 조금 귀찮습니다…)</p>\n<br />\n<p>만약 UI적으로 뛰어난 크롤러를 만들어야 하는 경우, 혹은 크롤러가 주된 목적이 아닌 웹 앱을 만드는 경우 전 javascript를 사용할 것 같습니다.</p>\n<br />\n<h1 id=\"3-그래도-nextron--playwright-사용해보기\" style=\"position:relative;\"><a href=\"#3-%EA%B7%B8%EB%9E%98%EB%8F%84-nextron--playwright-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"3 그래도 nextron  playwright 사용해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 그래도 nextron + playwright 사용해보기</h1>\n<br />\n<p>많은 부분에 있어 python은 좋지만 next.js를 자주 사용하는 입장이기도 하고 playwright라는 새로운 자동화 도구를 사용해 보고 싶어 nextron을 통한 크롤러를 만들어 볼까 합니다.</p>\n<br />\n<p>간단하게 네이버 부동산 원룸 매물에 대해 입력하는 지역에 따라 크롤링하는 작업을 기획하였습니다.</p>\n<br />\n<p>tailwindcss를 통해 간단하고 빠르게 프론트 엔드를 구현하였습니다.</p>\n<br />\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAB2HAAAdhwGP5fFlAAACQUlEQVQoz2MQklBDRoLiqrzCirzCinwiymBSiV9UmVdYiVdYSVBcFU0xA5pOUWlNbQNbbQNbFU0zbUNbFS1zJQ1TDT0rLX1rSTkdNP0MED0QJCCmIi6r5eIR4uIRYmTu7OYV6uQeZGHjYe/ib+3gLadiKCCmIiyJpFlYUl1cVhuORKU1BcHGCUuqC0mo8Yko8wgr8ggpcgsq8Ikq84upwJGIlDqDT1B8THJBWExWeGx2eGx2dGJ+RHxuZHxOZHxuaExW78TZR4+d3nfg6P6Dx/YdPLrv4NG9B44cOHx809bdUfE5DJHxOctXb96+6+CW7fu27ti/c8/hrTv2b9m+b8/+o32T527Zse////9//vz9DwP//v37////589fc4sbGMJjsydNWzBnwYqZc5fOmrcMzFg2Y87SeYtW1zT2btyy+////z9g4NevXz9+/Pzz58/bd++zC2oZwuOyO/tmTJgyb8qMRTPmLF2wZO20WUumzFg0a97yqvqedRt3PH786NLlSxcuXDh37txVMDh39uzjx09ziuoYIuJyZs9btnzVhq079m/beWDztr3bdx3YtvPAvoPHQc7eDnL29+8/fv3+/QsKfv/58+fT5y9ZBbUM0Yn5zm4+BkZmBkbm5pa2js7uxqZWBkYW+gamto6ee/Yfxe7nL1/zShpBoR0WleIbEOkfHBMQEhscnhAQEusfHAPihib0Tpx15NipvQeOQIIaPbRBqUpGW0xWB4LAbBhXRptXWJGTX45LQB4TCYqrAgAGfzm2YV8DyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1.png\"\n        title=\"image1.png\"\n        src=\"/static/94de3a071bb4c99cddcf7265aa02a48c/37523/image1.png\"\n        srcset=\"/static/94de3a071bb4c99cddcf7265aa02a48c/e9ff0/image1.png 180w,\n/static/94de3a071bb4c99cddcf7265aa02a48c/f21e7/image1.png 360w,\n/static/94de3a071bb4c99cddcf7265aa02a48c/37523/image1.png 720w,\n/static/94de3a071bb4c99cddcf7265aa02a48c/302a4/image1.png 1080w,\n/static/94de3a071bb4c99cddcf7265aa02a48c/07a9c/image1.png 1440w,\n/static/94de3a071bb4c99cddcf7265aa02a48c/d76ab/image1.png 1731w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br />\n<p>데이터를 주고 받는 처리는 REST API를 사용하는 것이 아닌 ipc통신을 통해 주고 받기 때문에 이 또한 따로 처리해 주어야 합니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SearchRoom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span><span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">setDescription</span><span class=\"token punctuation\">(</span><span class=\"token string\">'진행 현황'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">let</span> payload <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n      region<span class=\"token operator\">:</span> region<span class=\"token punctuation\">,</span>\r\n      regionShape<span class=\"token operator\">:</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    ipcRenderer<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get-room'</span><span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>ipc 통신을 하는 경우</p>\n<br />\n<ul>\n<li>프론트에서 보낼 때, ipcRenderer.send()</li>\n<li>프론트에서 받을 때, ipcRenderer.on()</li>\n<li>벡엔드에서 받을 때, ipcMain.on()</li>\n<li>벡엔드에서 응답답 때, event.sender.send()</li>\n<li>벡엔드에서 보낼 때, webContents.send()</li>\n</ul>\n<br />\n<p>크게 많은 문법은 필요로 하지 않습니다. 웹 소켓을 주고 받을 때와 비슷하게 보내주면 됩니다.</p>\n<br />\n<p>한 가지 기억해야 할 것은 프론트에서 ipcRenderer를 받는 경우 useEffet()로 감싸주어야 오류가 나지 않습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    ipcRenderer<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'explanation'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">setExplanation</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>ipcRenderer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<h1 id=\"4playwright를-통해-자동-스크래핑하기기\" style=\"position:relative;\"><a href=\"#4playwright%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%9E%90%EB%8F%99-%EC%8A%A4%ED%81%AC%EB%9E%98%ED%95%91%ED%95%98%EA%B8%B0%EA%B8%B0\" aria-label=\"4playwright를 통해 자동 스크래핑하기기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.playwright를 통해 자동 스크래핑하기기</h1>\n<br />\n<p>playwright의 주요 개념은 크게 브라우저와 컨텍스트, 그리고 페이지와 프레임으로 나뉩니다.</p>\n<br />\n<h2 id=\"브라우저\" style=\"position:relative;\"><a href=\"#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\" aria-label=\"브라우저 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>브라우저</h2>\n<br />\n<p>브라우저는 시작과 끝입니다. 이는 크로미움, 파이어폭스, 웹킷의 인스턴스를 나타내며 브라우저 인스턴스를 여는 것과 끝으로 playwright의 시작과 끝을 나눕니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> chromium <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'playwright'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> chromium<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// ...</span>\r\n<span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h2 id=\"컨텍스트\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8\" aria-label=\"컨텍스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨텍스트</h2>\n<br />\n<p>playwright는 단일 인스턴스가 여러 브라우저 컨텍스트를 통해 수행할 수 있는 작업을 극대화하도록 설계되었습니다.</p>\n<br />\n<p>이는 브라우저 인스턴스 내에 분리된 유사 세션입니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> chromium<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h2 id=\"페이지와-프레임\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80%EC%99%80-%ED%94%84%EB%A0%88%EC%9E%84\" aria-label=\"페이지와 프레임 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지와 프레임</h2>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> page1 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p>페이지를 통해서 각기 다른 탭에서 작업하는 것처럼 할 수 있습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 프레임의 name 속성으로 프레임 가져오기</span>\r\n<span class=\"token keyword\">const</span> frame <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">frame</span><span class=\"token punctuation\">(</span><span class=\"token string\">'frame-login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p>프레임을 이용해서도 프레임 내부에 있는 엘리먼트를 가져오거나 조작할 수 있습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// data-test-id 선택자 사용</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-test-id=foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// CSS, XPath 선택자가 자동으로 탐지된다.</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">await</span><span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'//html/body/div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 부분 텍스트로 노드 검색</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'text=Hello w'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 명시적인 CSS, XPath 표기법</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'css=div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xpath=//html/body/div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 쉐도우 DOM이 아닌 light DOM만 검색</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'css:light=div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p>기본적으로 css 선택자를 제공하는 것은 물론, HTML 속성을 통해서도 찾을 수 있습니다.</p>\n<br />\n<h2 id=\"자동-대기auto-wating\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99-%EB%8C%80%EA%B8%B0auto-wating\" aria-label=\"자동 대기auto wating permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동 대기(Auto-wating)</h2>\n<br />\n<p>playwright는 주어진 선택자가 DOM에 나타날 때까지 기다립니다.</p>\n<br />\n<p>이 기능으로 굳이 화면에 엘리먼트가 나타날 때까지 대기하는 코드가 필요로 하지 않습니다.</p>\n<br />\n<p>물론 명시적으로 기다릴 수도 있습니다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// #search 엘리먼트가 DOM에 나타날 때까지 기다린다.</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForSelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#search'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> state<span class=\"token operator\">:</span> <span class=\"token string\">'attached'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>반대로 엘리먼트가 보이지 않거나 DOM에서 제거될 때를 기다릴 수도 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// #promo가 DOM에서 제거 될 때까지 기다린다.</span>\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForSelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#promo'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> state<span class=\"token operator\">:</span> <span class=\"token string\">'detached'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h2 id=\"페이지-조작하기\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A1%B0%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"페이지 조작하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 조작하기</h2>\n<br />\n<p>page를 통해서 우리는 실제 웹 페이지를 조작할 수 있습니다.</p>\n<br />\n<ul>\n<li>페이지 이동하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://land.naver.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<ul>\n<li>input 채우기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">locator</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#queryInputHeader'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">.</span>region<span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<ul>\n<li>엘리먼트 클릭하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">locator</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fieldset > a:first-of-type'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<ul>\n<li>브라우저 내에서 js 조작하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">    <span class=\"token keyword\">let</span> lastHeight <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#listContents1 > div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>scrollHeight\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p>위 코드는 해당 엘리먼트의 스크롤 높이를 반환합니다.</p>\n<br />\n<ul>\n<li>스크롤 높이 정보를 바탕으로 브라우저 내에서 스크롤 하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>lastHeight<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#listContents1 > div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scrollTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> lastHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> lastHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p>이 이외에도 다양한 함수들을 공식문서에서 확인할 수 있습니다.</p>\n<br />\n<h1 id=\"5-beautifulsoup대신에-cheerio로\" style=\"position:relative;\"><a href=\"#5-beautifulsoup%EB%8C%80%EC%8B%A0%EC%97%90-cheerio%EB%A1%9C\" aria-label=\"5 beautifulsoup대신에 cheerio로 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. BeautifulSoup대신에 Cheerio로!</h1>\n<br />\n<p>Cheerio를 통해서도 Html 태그를 찾아내는 것은 매우 간단합니다.</p>\n<br />\n<ul>\n<li>$(Selector, [context], [root])</li>\n</ul>\n<br />\n<p>기본적으로 CSS Selector를 통해서 값을 추적합니다.</p>\n<br />\n<p>이후 context를 사용해 그 범위를 줄여나갈 수 있습니다.</p>\n<br />\n<ul>\n<li>$(‘.apple’, ‘#fluits’).text()</li>\n</ul>\n<br />\n<ul>\n<li>$(‘ul.apple’).attr(‘class’)</li>\n</ul>\n<br />\n<p>attr 함수를 통해서는 해당 엘리먼트의 속성 값에 접근할 수 있습니다.</p>\n<br />\n<ul>\n<li>text(), html(), val()</li>\n</ul>\n<br />\n<p>각각 text값, html값, value값을 가져올 수 있습니다.</p>\n<br />\n<h2 id=\"소감\" style=\"position:relative;\"><a href=\"#%EC%86%8C%EA%B0%90\" aria-label=\"소감 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소감</h2>\n<br />\n<p>웹 상에서 데이터 수집하는 것, 그 데이터를 수정하고 가공하며 원하는 형태로 만들어 내는 것,</p>\n<br />\n<p>만들어낸 데이터를 바탕으로 의미있는 결과물을 도출하는 것, 그러한 방향성이 중요합니다.</p>\n<br />\n<p>기술은 날이 갈 수록 발전하고 그만큼 코딩도 어렵지만, 내가 선택한 방향성에 만족하며 사는 삶은 꽤나 즐겁고 사회에도 도움이 될까 싶어 기분이 좋습니다.</p>\n<br />\n<p>결론은 더 기술을 연마하자…</p>\n<br />\n<h2 id=\"-references\" style=\"position:relative;\"><a href=\"#-references\" aria-label=\" references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👏 References</h2>\n<ul>\n<li><a href=\"https://ui.toast.com/posts/ko_20210818\">https://ui.toast.com/posts/ko_20210818</a></li>\n<li><a href=\"https://playwright.dev/docs/api/class-playwright\">https://playwright.dev/docs/api/class-playwright</a></li>\n<li><a href=\"https://cheerio.js.org/\">https://cheerio.js.org/</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\">브라우저</a></li>\n<li><a href=\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8\">컨텍스트</a></li>\n<li><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80%EC%99%80-%ED%94%84%EB%A0%88%EC%9E%84\">페이지와 프레임</a></li>\n<li><a href=\"#%EC%9E%90%EB%8F%99-%EB%8C%80%EA%B8%B0auto-wating\">자동 대기(Auto-wating)</a></li>\n<li><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A1%B0%EC%9E%91%ED%95%98%EA%B8%B0\">페이지 조작하기</a></li>\n<li><a href=\"#%EC%86%8C%EA%B0%90\">소감</a></li>\n<li><a href=\"#-references\">👏 References</a></li>\n</ul>\n</div>","frontmatter":{"date":"December 21, 2022","title":"Nextron + playwright를 통한 크롤링 웹앱","categories":"WEB-DEV","author":"DEVEL","emoji":"🐹"},"fields":{"slug":"/data-science-2/"}},"site":{"siteMetadata":{"siteUrl":"https://hsjni0110.github.io/devel-repo","comments":{"utterances":{"repo":"hsjni0110/hsjni0110.github.io"}}}}},"pageContext":{"slug":"/web-dev-4/","nextSlug":"/web-dev-3/","prevSlug":"/data-science-2/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}